<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<script src="//assets.annotateit.org/annotator/v1.1.0/annotator-full.min.js"></script>
<link rel="stylesheet" href="//assets.annotateit.org/annotator/v1.1.0/annotator.min.css">

<script>
jQuery(function ($) {
    var body = $('body').annotator();

    body.annotator('addPlugin', 'Store', {
        // The endpoint of the store on your server.
        prefix: 'http://127.0.0.1:5000',

        // Attach the uri of the current page to all annotations to allow search.
        annotationData: {
            'uri': window.location.href
        },

        // This will perform a "search" action when the plugin loads. Will
        // request the last 20 annotations for the current url.
        // eg. /store/endpoint/search?limit=20&uri=http://this/document/only
        loadFromSearch: {
            'limit': 20,
            'uri': window.location.href
        }
    });

    // var select = $('<select id="my-select" />')
    // $('#annotator-field-0').replaceWith(select);
    // 
    // var selectValues = { "1": "test 1", "2": "test 2" };
    // $.each(selectValues, function(key, value) {   
    //      $('#my-select')
    //          .append($("<option></option>")
    //          .attr("value",key)
    //          .text(value)); 
    // });

});
</script>
